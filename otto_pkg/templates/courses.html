{% extends 'base.html' %}

{% block body %}

<div class="container">
	<ol class="breadcrumb">
		<li><a href="#">Home</a></li>
		<li class="active">Courses</li>
	</ol><!-- .breadcrumb -->
	<div class="page-header">
		<h1>Courses <button type="button" class="btn btn-success pull-right" data-toggle="modal" data-target="#addNewCourseModal">Add New Course</button></h1>
	</div><!-- .page-header -->
	<div class="panel panel-default">
		<div class="panel-heading">
			<div class="row">
				<div class="col-xs-2">ID</div>
				<div class="col-xs-5">Course Name</div>
				<div class="col-xs-2">Enrolled Students</div>
				<div class="col-xs-2">Pending Approval</div>
			</div><!-- .row -->
		</div><!-- .panel-heading -->
		<div class="list-group course-list">
			{% if courses %}
                {% for course in courses %}
                <div class="list-group-item course" id="course-{{ course.id_str }}">
					<div class="row">
                        <div class="col-xs-2 attr-course-id">
                        	<!-- div for easier double click selection -->
                        	<div>{{ course.id_str }}</div>
                        </div>
                        <div class="col-xs-5 attr-course-name">
                            <a href="#" title="{{ course.title }}">{{ course.title }}</a>
                        </div>
                        <div class="col-xs-2 attr-course-enrolled">
                        	{{ course.students|length }}
                        </div>
                        <div class="col-xs-2 attr-course-pending">
                        	0
                        </div>
                        <div class="col-xs-1 attr-course-remove text-right">
                        	<form class="removeCourse" method="post" action="/courses">
                        		{% csrf_token %}
                        		<input type="hidden" name="action" value="removeCourse">
                        		<input type="hidden" name="course_id" value="{{ course.id_str }}">
                        		<button type="submit" class="close course-remove" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        	</form>
                        </div>
					</div><!-- .row -->
                </div><!-- .list-group-item -->
                {% endfor %}
            {% else %}
            	<div class="list-group-item" id="course-none">
            		<p>You are not enrolled in any courses yet.</p>
            	</div><!-- .list-group-item -->
            {% endif %}
		</div><!-- .list-group -->
	</div><!-- .panel .panel-default -->
	<div class="row">
		<div class="col-xs-12">
			<footer class="site-footer">
				<small class="text-muted pull-left">&copy; 2015 <a href="index.html">Otto</a>.</small>
				<small class="text-muted pull-right">Project by Alex Pascal, Edward Misback, and Ben Pratt.</small>
			</footer>
		</div>
	</div><!-- .row -->
</div><!-- .container -->

<div class="modal fade" id="addNewCourseModal" tabindex="-1" role="dialog" aria-labelledby="addNewCourseModal" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
            <form method="post" action="/index">
            	{% csrf_token %}
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
					<h4 class="modal-title">Add New Course</h4>
				</div><!-- .modal-header -->
				<div class="modal-body">
						<div class="form-group">
	                        <label for="courseID">{{ add_dialog_name }}</label>
	                        <input name="courseID" type="text" class="form-control" id="courseID" placeholder="{{ placeholder }}">
						</div>
	                    <!--</form>-->
				</div><!-- .modal-body -->
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
					<button type="submit" class="btn btn-success">Add Course</button>
				</div><!-- .modal-footer -->
            </form>
		</div><!-- .modal-content -->
	</div><!-- .model-dialog -->
</div><!-- .modal -->

{% endblock body %}